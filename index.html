<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='Bayesian Additive Regression Kernels (BARK) provides
	an implementation for non-parametric function estimation using Levy
	Random Field priors for functions that may be represented as a
	sum of additive multivariate kernels.  Kernels are located at
	every data point as in Support Vector Machines, however, coefficients 
	may be heavily shrunk to zero under the Cauchy process prior, or even, 
	set to zero.  The number of active features is controlled by priors on
	precision parameters within the kernels, permitting feature selection. For 
	more details see Ouyang, Z (2008) "Bayesian Additive Regression Kernels",
	Duke University. PhD dissertation, Chapter 3 and Wolpert, R. L, Clyde, M.A, 
	and Tu, C. (2011) "Stochastic Expansions with Continuous Dictionaries:́ Levy
	Adaptive Regression Kernels. Annals of Statistics 39:1916-1962 
	&lt;doi:10.1214/11-AOS889&gt;'>
<title>Bayesian Additive Regression Kernels • bark</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Bayesian Additive Regression Kernels">
<meta property="og:description" content='Bayesian Additive Regression Kernels (BARK) provides
	an implementation for non-parametric function estimation using Levy
	Random Field priors for functions that may be represented as a
	sum of additive multivariate kernels.  Kernels are located at
	every data point as in Support Vector Machines, however, coefficients 
	may be heavily shrunk to zero under the Cauchy process prior, or even, 
	set to zero.  The number of active features is controlled by priors on
	precision parameters within the kernels, permitting feature selection. For 
	more details see Ouyang, Z (2008) "Bayesian Additive Regression Kernels",
	Duke University. PhD dissertation, Chapter 3 and Wolpert, R. L, Clyde, M.A, 
	and Tu, C. (2011) "Stochastic Expansions with Continuous Dictionaries:́ Levy
	Adaptive Regression Kernels. Annals of Statistics 39:1916-1962 
	&lt;doi:10.1214/11-AOS889&gt;'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">bark</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/index.html">Vignettes</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/merliseclyde">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/merliseclyde/BAS">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="bark-bayesian-additive-regression-kernels">bark: Bayesian Additive Regression Kernels<a class="anchor" aria-label="anchor" href="#bark-bayesian-additive-regression-kernels"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The bark package implements estimation for a Bayesian nonparametric regression model represented as a sum of multivariate Gaussian kernels as a flexible model to capture nonlinearities, interactions and feature selection.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of bark <a href="https://cran.r-project.org/package=bark" class="external-link"><img src="https://www.r-pkg.org/badges/version/bark"></a> from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"bark"</span><span class="op">)</span></span></code></pre></div>
<p>And the development version from <a href="https://github.com/merliseclyde/bark" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"merliseclyde/bark"</span><span class="op">)</span></span></code></pre></div>
<p>(verify that the branch has a passing R CMD check badge above)</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.R-project.org" class="external-link">bark</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">traindata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sim_Friedman2.html">sim_Friedman2</a></span><span class="op">(</span><span class="fl">200</span>, sd<span class="op">=</span><span class="fl">125</span><span class="op">)</span></span>
<span><span class="va">testdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sim_Friedman2.html">sim_Friedman2</a></span><span class="op">(</span><span class="fl">1000</span>, sd<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">fit.bark.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bark.html">bark</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">.</span>,  </span>
<span>                   data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">traindata</span><span class="op">)</span>, </span>
<span>                   testdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">testdata</span><span class="op">)</span>,</span>
<span>                   classification<span class="op">=</span><span class="cn">FALSE</span>, </span>
<span>                   selection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   common_lambdas <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                   printevery <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">fit.bark.d</span><span class="op">$</span><span class="va">yhat.test.mean</span><span class="op">-</span><span class="va">testdata</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1738.992</span></span></code></pre></div>
<p>bark is similar to SVM, however it allows different kernel smoothing parameters for every dimension of the inputs <span class="math inline"><em>x</em></span> as well as selection of inputs by allowing the kernel smoothing parameters to be zero.</p>
<p>The plot below shows posterior draws of the <span class="math inline"><em>λ</em></span> for the simulated data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">fit.bark.d</span><span class="op">$</span><span class="va">theta.lambda</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>The posterior distribution for <span class="math inline"><em>λ</em><sub>1</sub></span> and <span class="math inline"><em>λ</em><sub>4</sub></span> are concentrated near zero, which leads to <span class="math inline"><em>x</em><sub>1</sub></span> and <span class="math inline"><em>x</em><sub>2</sub></span> dropping from the mean function.</p>
</div>
<div class="section level2">
<h2 id="roadmap-for-future-enhancements">Roadmap for Future Enhancements<a class="anchor" aria-label="anchor" href="#roadmap-for-future-enhancements"></a>
</h2>
<p>Over the next year the following enhancements are planned:</p>
<ul>
<li><p>port more of the R code to C/C++ for improvements in speed</p></li>
<li><p>add S3 methods for <code>predict</code>, <code>summary</code>, <code>plot</code></p></li>
<li><p>add additional kernels</p></li>
<li><p>better hyperparameter specification</p></li>
</ul>
<p>If there are features you would like to see added, please feel free to create an <a href="https://github.com/merliseclyde/bark/issues" class="external-link">issue in GitHub</a> and we can discuss!</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=bark" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/merliseclyde/bark/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/merliseclyde/bark/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bark</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://stat.duke.edu/~clyde" class="external-link">Merlise Clyde</a> <br><small class="roles"> Author, maintainer, thesis advisor </small>  </li>
<li>Zhi Ouyang <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=bark" class="external-link"><img src="https://www.r-pkg.org/badges/version/bark" alt="CRAN status"></a></li>
<li><a href="https://github.com/merliseclyde/bark/actions" class="external-link"><img src="https://github.com/merliseclyde/bark/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/merliseclyde/bark" class="external-link"><img src="https://codecov.io/gh/merliseclyde/bark/graph/badge.svg?token=iPCcWEu34R" alt="codecov"></a></li>
<li><a href="https://bestpractices.coreinfrastructure.org/projects/7096" class="external-link"><img src="https://bestpractices.coreinfrastructure.org/projects/7096/badge" alt="OpenSSF Best Practices"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="http://stat.duke.edu/~clyde" class="external-link">Merlise Clyde</a>, Zhi Ouyang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
